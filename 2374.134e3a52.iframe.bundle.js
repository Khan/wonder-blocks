"use strict";(self.webpackChunkwonder_blocks=self.webpackChunkwonder_blocks||[]).push([[2374],{"./packages/wonder-blocks-icon-button/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>IconButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_khanacademy_wonder_blocks_clickable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/wonder-blocks-clickable/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/wonder-blocks-core/dist/es/index.js"),_khanacademy_wonder_blocks_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/wonder-blocks-icon/dist/es/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}const _excluded$1=["skipClientNav","color","disabled","focused","hovered","href","icon","kind","light","pressed","style","testId","waiting"],StyledAnchor=(0,_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_4__.cu)("a"),StyledButton=(0,_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_4__.cu)("button"),StyledLink=(0,_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_4__.cu)(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.rU),IconButtonCore=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,ref)=>{const{skipClientNav,color,disabled,focused,hovered,href,icon,kind="primary",light=!1,pressed,style,testId}=props,restProps=_objectWithoutPropertiesLoose(props,_excluded$1);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router__WEBPACK_IMPORTED_MODULE_7__.s6.Consumer,null,(router=>(router=>{const buttonColor="destructive"===color?_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.qe.controlDestructive:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.qe.controlDefault,buttonStyles=_generateStyles(buttonColor,kind,light),defaultStyle=[sharedStyles.shared,disabled&&sharedStyles.disabled,buttonStyles.default,disabled&&buttonStyles.disabled,!disabled&&(pressed?buttonStyles.active:(hovered||focused)&&buttonStyles.focus)],child=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_icon__WEBPACK_IMPORTED_MODULE_5__.Z,{size:"medium",color:"currentColor",icon}),commonProps=_extends({"data-test-id":testId,style:[defaultStyle,style]},restProps);return href&&!disabled?router&&!skipClientNav&&(0,_khanacademy_wonder_blocks_clickable__WEBPACK_IMPORTED_MODULE_1__.J7)(href)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledLink,_extends({},commonProps,{to:href,ref}),child):react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledAnchor,_extends({},commonProps,{href,ref}),child):react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledButton,_extends({type:"button"},commonProps,{disabled,ref}),child)})(router)))})),sharedStyles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:40,width:40,padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:-8,touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"default"}}),styles={},_generateStyles=(color,kind,light)=>{const buttonType=color+kind+light.toString();if(styles[buttonType])return styles[buttonType];if(light&&"primary"!==kind)throw new Error("Light is only supported for primary IconButtons");const{white,offBlack32,offBlack64,offBlack}=_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.default,newStyles={default:{},focus:{color:light?white:color,borderWidth:2,borderColor:light?white:color,borderStyle:"solid",borderRadius:4},active:{color:light?(0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.CD)((0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.U1)(color,.32),white):(0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.CD)(offBlack32,color),borderWidth:2,borderColor:light?(0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.CD)((0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.U1)(color,.32),white):(0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.CD)(offBlack32,color),borderStyle:"solid",borderRadius:4},disabled:{color:light?(0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.CD)((0,_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_3__.U1)(white,.32),color):offBlack32,cursor:"default"}};if("primary"===kind)newStyles.default={color:light?white:color};else if("secondary"===kind)newStyles.default={color:offBlack};else{if("tertiary"!==kind)throw new Error("IconButton kind not recognized");newStyles.default={color:offBlack64}}return styles[buttonType]=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create(newStyles),styles[buttonType]},_excluded=["onClick","href","skipClientNav","tabIndex","target","color","kind","light","disabled"],IconButton=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,ref)=>{const{onClick,href,skipClientNav,tabIndex,target,color="default",kind="primary",light=!1,disabled=!1}=props,sharedProps=_objectWithoutPropertiesLoose(props,_excluded),renderClickableBehavior=router=>{const ClickableBehavior=(0,_khanacademy_wonder_blocks_clickable__WEBPACK_IMPORTED_MODULE_1__.nJ)(href,skipClientNav,router);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ClickableBehavior,{disabled,href,onClick,role:"button",target},((state,_ref)=>{let childrenProps=_extends({},(function _objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure "+obj)}(_ref),_ref));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButtonCore,_extends({},sharedProps,state,childrenProps,{color,kind,light,disabled,skipClientNav,href,target,tabIndex,ref}))}))};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router__WEBPACK_IMPORTED_MODULE_7__.s6.Consumer,null,(router=>renderClickableBehavior(router)))}));IconButton.__docgenInfo={description:"",methods:[],displayName:"IconButton"}},"./packages/wonder-blocks-layout/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AM:()=>Spring,E6:()=>MEDIA_MODAL_SPEC,Ny:()=>MediaLayoutContext,bu:()=>MediaLayout,x9:()=>Strut});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/wonder-blocks-spacing/dist/es/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/wonder-blocks-core/dist/es/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const mediaDefaultSpecLargeMarginWidth=_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.large_24,MEDIA_DEFAULT_SPEC={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.medium_16,marginWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.xLarge_32,marginWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.xLarge_32,marginWidth:mediaDefaultSpecLargeMarginWidth,maxWidth:1120+2*mediaDefaultSpecLargeMarginWidth}},MEDIA_INTERNAL_SPEC={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.xLarge_32,marginWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.medium_16}},MEDIA_MODAL_SPEC={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.medium_16,marginWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.xLarge_32,marginWidth:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_1__.Z.xxLarge_48}},defaultContext={ssrSize:"large",mediaSpec:MEDIA_DEFAULT_SPEC},MediaLayoutContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultContext);MediaLayoutContext.displayName="MediaLayoutContext";const queries=[...Object.values(MEDIA_DEFAULT_SPEC).map((spec=>spec.query)),...Object.values(MEDIA_INTERNAL_SPEC).map((spec=>spec.query)),...Object.values(MEDIA_MODAL_SPEC).map((spec=>spec.query))],mediaQueryLists={};class MediaLayoutInternal extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const entries=Object.entries(this.props.mediaSpec);for(const[size,spec]of entries){const mql=mediaQueryLists[spec.query];if(!mql)continue;const listener=e=>{e.matches&&this.setState({size})};mql.addListener(listener),this.cleanupThunks.push((()=>mql.removeListener(listener)))}}componentWillUnmount(){this.cleanupThunks.forEach((cleaup=>cleaup()))}getCurrentSize(spec){if(this.state.size)return this.state.size;{const entries=Object.entries(this.props.mediaSpec);for(const[size,_spec]of entries){if(mediaQueryLists[_spec.query].matches)return size}}return"large"}isServerSide(){return"undefined"==typeof window||!window.matchMedia}getMockStyleSheet(mediaSize){const{styleSheets}=this.props,mockStyleSheet={};if(!styleSheets)return mockStyleSheet;for(const styleSize of Object.keys(styleSheets)){const styleSheet=styleSheets[styleSize];if(styleSheet)for(const name of Object.keys(styleSheet))Object.prototype.hasOwnProperty.call(mockStyleSheet,name)||(mockStyleSheet[name]=[styleSheets.all&&styleSheets.all[name],"small"===mediaSize&&[styleSheets.mdOrSmaller&&styleSheets.mdOrSmaller[name],styleSheets.small&&styleSheets.small[name]],"medium"===mediaSize&&[styleSheets.mdOrSmaller&&styleSheets.mdOrSmaller[name],styleSheets.mdOrLarger&&styleSheets.mdOrLarger[name],styleSheets.medium&&styleSheets.medium[name]],"large"===mediaSize&&[styleSheets.mdOrLarger&&styleSheets.mdOrLarger[name],styleSheets.large&&styleSheets.large[name]]])}return mockStyleSheet}render(){const{children,mediaSpec,ssrSize,overrideSize}=this.props;if(!this.isServerSide())for(const query of queries.filter((query=>!mediaQueryLists[query])))mediaQueryLists[query]=window.matchMedia(query);const mediaSize=overrideSize||this.isServerSide()&&ssrSize||this.getCurrentSize(mediaSpec);return children({mediaSize,mediaSpec,styles:this.getMockStyleSheet(mediaSize)})}}MediaLayoutInternal.displayName="MediaLayoutInternal";class MediaLayout extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MediaLayoutContext.Consumer,null,(({overrideSize,ssrSize,mediaSpec})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(MediaLayoutInternal,_extends({},this.props,{overrideSize,ssrSize,mediaSpec}))))}}MediaLayout.displayName="MediaLayout";class Spring extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){const{style}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{"aria-hidden":"true",style:[styles.grow,style]})}}Spring.displayName="Spring";const styles=aphrodite__WEBPACK_IMPORTED_MODULE_2__.StyleSheet.create({grow:{flexGrow:1}});class Strut extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){const{size,style}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{"aria-hidden":"true",style:[strutStyle(size),style]})}}Strut.displayName="Strut";const strutStyle=size=>({width:size,MsFlexBasis:size,MsFlexPreferredSize:size,WebkitFlexBasis:size,flexBasis:size,flexShrink:0});MediaLayout.__docgenInfo={description:"",methods:[],displayName:"MediaLayout"},Spring.__docgenInfo={description:"",methods:[],displayName:"Spring"},Strut.__docgenInfo={description:"",methods:[],displayName:"Strut"}},"./packages/wonder-blocks-modal/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ws:()=>OnePaneDialog,jq:()=>maybeGetPortalMountedModalHostElement,lQ:()=>ModalPanel,mz:()=>ModalFooter,pL:()=>ModalDialog,q0:()=>modalLauncher,xB:()=>ModalHeader});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),aphrodite__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/aphrodite/lib/index.js"),_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/wonder-blocks-layout/dist/es/index.js"),_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/wonder-blocks-core/dist/es/index.js"),_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/wonder-blocks-spacing/dist/es/index.js"),_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/wonder-blocks-color/dist/es/index.js"),_khanacademy_wonder_blocks_typography__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/wonder-blocks-typography/dist/es/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-dom/index.js"),_khanacademy_wonder_blocks_timing__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/wonder-blocks-timing/dist/es/index.js"),_khanacademy_wonder_blocks_icon__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/wonder-blocks-icon/dist/es/index.js"),_khanacademy_wonder_blocks_icon_button__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/wonder-blocks-icon-button/dist/es/index.js");class ModalDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){const{above,below,role,style,children,testId,"aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy}=this.props,contextValue={ssrSize:"large",mediaSpec:_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__.E6};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__.Ny.Provider,{value:contextValue},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__.bu,{styleSheets:styleSheets$3},(({styles})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:[styles.wrapper,style]},below&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:styles.below},below),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{role,"aria-modal":"true","aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy,style:styles.dialog,testId},children),above&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:styles.above},above)))))}}ModalDialog.displayName="ModalDialog",ModalDialog.defaultProps={role:"dialog"};const styleSheets$3={all:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({wrapper:{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative"},dialog:{width:"100%",height:"100%",borderRadius:4,overflow:"hidden"},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}}),small:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({wrapper:{padding:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16,flexDirection:"column"}})};class ModalFooter extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static isClassOf(instance){return instance&&instance.type&&instance.type.__IS_MODAL_FOOTER__}render(){const{children}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:styles$3.footer},children)}}ModalFooter.displayName="ModalFooter",ModalFooter.__IS_MODAL_FOOTER__=!0;const styles$3=aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xxxLarge_64,paddingLeft:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16,paddingRight:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16,paddingTop:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xSmall_8,paddingBottom:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xSmall_8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.offBlack16}`}});class ModalHeader extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){const{breadcrumbs,light,subtitle,testId,title,titleId}=this.props;if(subtitle&&breadcrumbs)throw new Error("'subtitle' and 'breadcrumbs' can't be used together");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__.bu,{styleSheets:styleSheets$2},(({styles})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:[styles.header,!light&&styles.dark],testId},breadcrumbs&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:styles.breadcrumbs},breadcrumbs),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_typography__WEBPACK_IMPORTED_MODULE_6__.TE,{style:styles.title,id:titleId,testId:testId&&`${testId}-title`},title),subtitle&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_typography__WEBPACK_IMPORTED_MODULE_6__.S$,{style:light&&styles.subtitle,testId:testId&&`${testId}-subtitle`},subtitle))))}}ModalHeader.displayName="ModalHeader",ModalHeader.defaultProps={light:!0};const styleSheets$2={all:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({header:{boxShadow:`0px 1px 0px ${_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.offBlack16}`,display:"flex",flexDirection:"column",minHeight:66,padding:`${_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.large_24}px ${_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xLarge_32}px`,position:"relative",width:"100%"},dark:{background:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.darkBlue,color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.white},breadcrumbs:{color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.offBlack64,marginBottom:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xSmall_8},title:{paddingRight:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16},subtitle:{color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.offBlack64,marginTop:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xSmall_8}}),small:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({header:{paddingLeft:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16,paddingRight:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16},title:{paddingRight:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xLarge_32}})};class FocusTrap extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),this.modalRoot=void 0,this.getModalRoot=node=>{if(!node)return;const modalRoot=react_dom__WEBPACK_IMPORTED_MODULE_7__.findDOMNode(node);if(!modalRoot)throw new Error("Assertion error: modal root should exist after mount");this.modalRoot=modalRoot},this.handleFocusMoveToLast=()=>{this.focusElementIn(!1)},this.handleFocusMoveToFirst=()=>{this.focusElementIn(!0)}}tryToFocus(node){if(node instanceof HTMLElement){try{node.focus()}catch(e){}return document.activeElement===node}}focusElementIn(isLast){const modalRootAsHtmlEl=this.modalRoot,focusableNodes=Array.from(modalRootAsHtmlEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')),focusableNode=focusableNodes[isLast?0:focusableNodes.length-1];this.tryToFocus(focusableNode)}render(){const{style}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:this.handleFocusMoveToLast,style:{position:"fixed"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style,ref:this.getModalRoot},this.props.children),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:this.handleFocusMoveToFirst,style:{position:"fixed"}}))}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}FocusTrap.displayName="FocusTrap";const ModalLauncherPortalAttributeName="data-modal-launcher-portal";class ModalBackdrop extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),this._mousePressedOutside=!1,this.handleMouseDown=e=>{this._mousePressedOutside=e.target===e.currentTarget},this.handleMouseUp=e=>{e.target===e.currentTarget&&this._mousePressedOutside&&this.props.onCloseModal(),this._mousePressedOutside=!1}}componentDidMount(){const node=react_dom__WEBPACK_IMPORTED_MODULE_7__.findDOMNode(this);if(!node)return;const firstFocusableElement=this._getInitialFocusElement(node)||this._getFirstFocusableElement(node)||this._getDialogElement(node);setTimeout((()=>{firstFocusableElement.focus()}),0)}_getInitialFocusElement(node){const{initialFocusId}=this.props;return initialFocusId?react_dom__WEBPACK_IMPORTED_MODULE_7__.findDOMNode(node.querySelector(`#${initialFocusId}`)):null}_getFirstFocusableElement(node){const focusableElements=function findFocusableNodes(root){return Array.from(root.querySelectorAll('a[href], details, input, textarea, select, button:not([aria-label^="Close"])'))}(node);return focusableElements?focusableElements[0]:null}_getDialogElement(node){const dialogElement=react_dom__WEBPACK_IMPORTED_MODULE_7__.findDOMNode(node.querySelector('[role="dialog"]'));return dialogElement.tabIndex=-1,dialogElement}render(){const{children,testId}=this.props,backdropProps={[ModalLauncherPortalAttributeName]:!0};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,_extends({style:styles$2.modalPositioner,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,testId},backdropProps),children)}}ModalBackdrop.displayName="ModalBackdrop";const styles$2=aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.offBlack64}}),needsHackyMobileSafariScrollDisabler=(()=>{if("undefined"==typeof window)return!1;const userAgent=window.navigator.userAgent;return userAgent.indexOf("iPad")>-1||userAgent.indexOf("iPhone")>-1})();class ScrollDisabler extends react__WEBPACK_IMPORTED_MODULE_0__.Component{componentDidMount(){if(0===ScrollDisabler.numModalsOpened){const body=document.body;if(!body)throw new Error("couldn't find document.body");ScrollDisabler.oldOverflow=body.style.overflow,ScrollDisabler.oldScrollY=window.scrollY,needsHackyMobileSafariScrollDisabler&&(ScrollDisabler.oldPosition=body.style.position,ScrollDisabler.oldWidth=body.style.width,ScrollDisabler.oldTop=body.style.top),body.style.overflow="hidden",needsHackyMobileSafariScrollDisabler&&(body.style.position="fixed",body.style.width="100%",body.style.top=-ScrollDisabler.oldScrollY+"px")}ScrollDisabler.numModalsOpened++}componentWillUnmount(){if(ScrollDisabler.numModalsOpened--,0===ScrollDisabler.numModalsOpened){const body=document.body;if(!body)throw new Error("couldn't find document.body");body.style.overflow=ScrollDisabler.oldOverflow,needsHackyMobileSafariScrollDisabler&&(body.style.position=ScrollDisabler.oldPosition,body.style.width=ScrollDisabler.oldWidth,body.style.top=ScrollDisabler.oldTop),"undefined"!=typeof window&&window.scrollTo&&window.scrollTo(0,ScrollDisabler.oldScrollY)}}render(){return null}}ScrollDisabler.displayName="ScrollDisabler",ScrollDisabler.oldOverflow=void 0,ScrollDisabler.oldPosition=void 0,ScrollDisabler.oldScrollY=void 0,ScrollDisabler.oldWidth=void 0,ScrollDisabler.oldTop=void 0,ScrollDisabler.numModalsOpened=0;const defaultContext={closeModal:void 0},ModalContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultContext);ModalContext.displayName="ModalContext";class ModalLauncher extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),this.lastElementFocusedOutsideModal=void 0,this.state={opened:!1},this._saveLastElementFocused=()=>{this.lastElementFocusedOutsideModal=document.activeElement},this._openModal=()=>{this._saveLastElementFocused(),this.setState({opened:!0})},this._returnFocus=()=>{const{closedFocusId,schedule}=this.props,lastElement=this.lastElementFocusedOutsideModal;if(closedFocusId){const focusElement=react_dom__WEBPACK_IMPORTED_MODULE_7__.findDOMNode(document.getElementById(closedFocusId));if(focusElement)return void schedule.animationFrame((()=>{focusElement.focus()}))}null!=lastElement&&schedule.animationFrame((()=>{lastElement.focus()}))},this.handleCloseModal=()=>{this.setState({opened:!1},(()=>{const{onClose}=this.props;null==onClose||onClose(),this._returnFocus()}))}}static getDerivedStateFromProps(props,state){return"boolean"==typeof props.opened&&props.children&&console.warn("'children' and 'opened' can't be used together"),"boolean"!=typeof props.opened||props.onClose||console.warn("'onClose' should be used with 'opened'"),"boolean"==typeof props.opened||props.children||console.warn("either 'children' or 'opened' must be set"),{opened:"boolean"==typeof props.opened?props.opened:state.opened}}componentDidUpdate(prevProps){!prevProps.opened&&this.props.opened&&this._saveLastElementFocused()}_renderModal(){return"function"==typeof this.props.modal?this.props.modal({closeModal:this.handleCloseModal}):this.props.modal}render(){const renderedChildren=this.props.children?this.props.children({openModal:this._openModal}):null,{body}=document;return body?react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalContext.Provider,{value:{closeModal:this.handleCloseModal}},renderedChildren,this.state.opened&&react_dom__WEBPACK_IMPORTED_MODULE_7__.createPortal(react__WEBPACK_IMPORTED_MODULE_0__.createElement(FocusTrap,{style:styles$1.container},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalBackdrop,{initialFocusId:this.props.initialFocusId,testId:this.props.testId,onCloseModal:this.props.backdropDismissEnabled?this.handleCloseModal:()=>{}},this._renderModal())),body),this.state.opened&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalLauncherKeypressListener,{onClose:this.handleCloseModal}),this.state.opened&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScrollDisabler,null)):null}}ModalLauncher.displayName="ModalLauncher",ModalLauncher.defaultProps={backdropDismissEnabled:!0};class ModalLauncherKeypressListener extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),this._handleKeyup=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup)}render(){return null}}ModalLauncherKeypressListener.displayName="ModalLauncherKeypressListener";const styles$1=aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({container:{zIndex:1080}});var modalLauncher=(0,_khanacademy_wonder_blocks_timing__WEBPACK_IMPORTED_MODULE_8__.$K)(ModalLauncher);class ModalContent extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static isClassOf(instance){return instance&&instance.type&&instance.type.__IS_MODAL_CONTENT__}render(){const{scrollOverflow,style,children}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__.bu,{styleSheets:styleSheets$1},(({styles})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:[styles.wrapper,scrollOverflow&&styles.scrollOverflow]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:[styles.content,style]},children))))}}ModalContent.displayName="ModalContent",ModalContent.defaultProps={scrollOverflow:!0},ModalContent.__IS_MODAL_CONTENT__=!0;const styleSheets$1={all:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({wrapper:{flex:1,display:"block"},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xLarge_32,boxSizing:"border-box"}}),small:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({content:{padding:`${_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xLarge_32}px ${_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16}px`}})};class CloseButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){const{light,onClick,style,testId}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalContext.Consumer,null,(({closeModal})=>{if(closeModal&&onClick)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_icon_button__WEBPACK_IMPORTED_MODULE_10__.Z,{icon:_khanacademy_wonder_blocks_icon__WEBPACK_IMPORTED_MODULE_9__.c.dismiss,"aria-label":"Close modal",onClick:onClick||closeModal,kind:light?"primary":"tertiary",light,style,testId})}))}}CloseButton.displayName="CloseButton";class ModalPanel extends react__WEBPACK_IMPORTED_MODULE_0__.Component{renderMainContent(){const{content,footer,scrollOverflow}=this.props,mainContent=ModalContent.isClassOf(content)?content:react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalContent,null,content);return mainContent?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(mainContent,{scrollOverflow,style:[!!footer&&styles.hasFooter,mainContent.props.style]}):mainContent}render(){const{closeButtonVisible,footer,header,light,onClose,style,testId}=this.props,mainContent=this.renderMainContent();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.G7,{style:[styles.wrapper,!light&&styles.dark,style],testId:testId&&`${testId}-panel`},closeButtonVisible&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(CloseButton,{light:!light,onClick:onClose,style:styles.closeButton,testId:testId&&`${testId}-close`}),header,mainContent,!footer||ModalFooter.isClassOf(footer)?footer:react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalFooter,null,footer))}}ModalPanel.displayName="ModalPanel",ModalPanel.defaultProps={closeButtonVisible:!0,scrollOverflow:!0,light:!0};const styles=aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({wrapper:{flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",background:"white",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",right:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16,top:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.medium_16,zIndex:1},dark:{background:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.darkBlue,color:_khanacademy_wonder_blocks_color__WEBPACK_IMPORTED_MODULE_5__.default.white},hasFooter:{paddingBottom:_khanacademy_wonder_blocks_spacing__WEBPACK_IMPORTED_MODULE_4__.Z.xLarge_32}});class OnePaneDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{renderHeader(uniqueId){const{title,breadcrumbs,subtitle,testId}=this.props;return breadcrumbs?react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalHeader,{title,breadcrumbs,titleId:uniqueId,testId:testId&&`${testId}-header`}):subtitle?react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalHeader,{title,subtitle,titleId:uniqueId,testId:testId&&`${testId}-header`}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalHeader,{title,titleId:uniqueId,testId:testId&&`${testId}-header`})}render(){const{onClose,footer,content,above,below,style,closeButtonVisible,testId,titleId,role,"aria-describedby":ariaDescribedBy}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_layout__WEBPACK_IMPORTED_MODULE_2__.bu,{styleSheets},(({styles})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_khanacademy_wonder_blocks_core__WEBPACK_IMPORTED_MODULE_3__.Uj,{id:titleId,scope:"modal"},(uniqueId=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalDialog,{style:[styles.dialog,style],above,below,testId,"aria-labelledby":uniqueId,"aria-describedby":ariaDescribedBy,role},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalPanel,{onClose,header:this.renderHeader(uniqueId),content,footer,closeButtonVisible,testId}))))))}}OnePaneDialog.displayName="OnePaneDialog",OnePaneDialog.defaultProps={closeButtonVisible:!0};const styleSheets={small:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({dialog:{width:"100%",height:"100%",overflow:"hidden"}}),mdOrLarger:aphrodite__WEBPACK_IMPORTED_MODULE_1__.StyleSheet.create({dialog:{width:"93.75%",maxWidth:576,height:"81.25%",maxHeight:624}})};function maybeGetPortalMountedModalHostElement(element){return function maybeGetNextAncestorModalLauncherPortal(element){let candidateElement=element&&element.parentElement;for(;candidateElement&&!candidateElement.hasAttribute(ModalLauncherPortalAttributeName);)candidateElement=candidateElement.parentElement;return candidateElement}(element)}ModalDialog.__docgenInfo={description:"",methods:[],displayName:"ModalDialog",props:{role:{defaultValue:{value:'"dialog"',computed:!1},required:!1}}},ModalFooter.__docgenInfo={description:"",methods:[{name:"isClassOf",docblock:null,modifiers:["static"],params:[{name:"instance",type:null}],returns:null}],displayName:"ModalFooter"},ModalHeader.__docgenInfo={description:"",methods:[],displayName:"ModalHeader",props:{light:{defaultValue:{value:"true",computed:!1},required:!1}}},ModalLauncher.__docgenInfo={description:"",methods:[{name:"_renderModal",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ModalLauncher",props:{backdropDismissEnabled:{defaultValue:{value:"true",computed:!1},required:!1}}},ModalPanel.__docgenInfo={description:"",methods:[{name:"renderMainContent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ModalPanel",props:{closeButtonVisible:{defaultValue:{value:"true",computed:!1},required:!1},scrollOverflow:{defaultValue:{value:"true",computed:!1},required:!1},light:{defaultValue:{value:"true",computed:!1},required:!1}}},OnePaneDialog.__docgenInfo={description:"",methods:[{name:"renderHeader",docblock:null,modifiers:[],params:[{name:"uniqueId",type:null}],returns:null}],displayName:"OnePaneDialog",props:{closeButtonVisible:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./packages/wonder-blocks-timing/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$K:()=>withActionScheduler,KS:()=>useTimeout,Tt:()=>ClearPolicy,Yz:()=>useInterval,cy:()=>useScheduledTimeout,fk:()=>SchedulePolicy,kb:()=>useScheduledInterval});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const SchedulePolicy={Immediately:"schedule-immediately",OnDemand:"schedule-on-demand"},ClearPolicy={Resolve:"resolve-on-clear",Cancel:"cancel-on-clear"};class Timeout{constructor(action,timeoutMs,schedulePolicy=SchedulePolicy.Immediately){if(this._timeoutId=void 0,this._action=void 0,this._timeoutMs=void 0,"function"!=typeof action)throw new Error("Action must be a function");if(timeoutMs<0)throw new Error("Timeout period must be >= 0");this._action=action,this._timeoutMs=timeoutMs,schedulePolicy===SchedulePolicy.Immediately&&this.set()}get isSet(){return null!=this._timeoutId}set(){this.isSet&&this.clear(ClearPolicy.Cancel),this._timeoutId=setTimeout((()=>this.clear(ClearPolicy.Resolve)),this._timeoutMs)}clear(policy=ClearPolicy.Cancel){const timeoutId=this._timeoutId;this._timeoutId=null,null!=timeoutId&&(clearTimeout(timeoutId),policy===ClearPolicy.Resolve&&this._action())}}class Interval{constructor(action,intervalMs,schedulePolicy=SchedulePolicy.Immediately){if(this._intervalId=void 0,this._action=void 0,this._intervalMs=void 0,"function"!=typeof action)throw new Error("Action must be a function");if(intervalMs<1)throw new Error("Interval period must be >= 1");this._action=action,this._intervalMs=intervalMs,schedulePolicy===SchedulePolicy.Immediately&&this.set()}get isSet(){return null!=this._intervalId}set(){this.isSet&&this.clear(ClearPolicy.Cancel),this._intervalId=setInterval((()=>this._action()),this._intervalMs)}clear(policy=ClearPolicy.Cancel){const intervalId=this._intervalId;this._intervalId=null,null!=intervalId&&(clearInterval(intervalId),policy===ClearPolicy.Resolve&&this._action())}}class AnimationFrame{constructor(action,schedulePolicy=SchedulePolicy.Immediately){if(this._animationFrameId=void 0,this._action=void 0,"function"!=typeof action)throw new Error("Action must be a function");this._action=action,schedulePolicy===SchedulePolicy.Immediately&&this.set()}get isSet(){return null!=this._animationFrameId}set(){this.isSet&&this.clear(ClearPolicy.Cancel),this._animationFrameId=requestAnimationFrame((time=>this.clear(ClearPolicy.Resolve,time)))}clear(policy=ClearPolicy.Cancel,time){const animationFrameId=this._animationFrameId;this._animationFrameId=null,null!=animationFrameId&&(cancelAnimationFrame(animationFrameId),policy===ClearPolicy.Resolve&&this._action(time||performance.now()))}}class ActionScheduler{constructor(){this._disabled=!1,this._registeredActions=[]}timeout(action,period,options){if(this._disabled)return ActionScheduler.NoopAction;const timeout=new Timeout(action,period,null==options?void 0:options.schedulePolicy);return this._registeredActions.push((()=>timeout.clear(null==options?void 0:options.clearPolicy))),timeout}interval(action,period,options){if(this._disabled)return ActionScheduler.NoopAction;const interval=new Interval(action,period,null==options?void 0:options.schedulePolicy);return this._registeredActions.push((()=>interval.clear(null==options?void 0:options.clearPolicy))),interval}animationFrame(action,options){if(this._disabled)return ActionScheduler.NoopAction;const animationFrame=new AnimationFrame(action,null==options?void 0:options.schedulePolicy);return this._registeredActions.push((()=>animationFrame.clear(null==options?void 0:options.clearPolicy))),animationFrame}clearAll(){const registered=[...this._registeredActions];this._registeredActions=[],registered.forEach((clearFn=>clearFn()))}disable(){this._disabled=!0,this.clearAll()}}ActionScheduler.NoopAction={set:()=>{},get isSet(){return!1},clear:()=>{}};class ActionSchedulerProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),this._actionScheduler=new ActionScheduler}componentWillUnmount(){this._actionScheduler.disable()}render(){const{children}=this.props;return children(this._actionScheduler)}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function withActionScheduler(WrappedComponent){return props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionSchedulerProvider,null,(schedule=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,_extends({},props,{schedule}))))}ActionSchedulerProvider.displayName="ActionSchedulerProvider";const useUpdatingRef=value=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{ref.current=value}),[value]),ref};function useInterval(action,intervalMs,active){const actionRef=useUpdatingRef(action);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(active){const intervalId=setInterval((()=>{actionRef.current()}),intervalMs);return()=>{clearInterval(intervalId)}}}),[intervalMs,active,actionRef])}function useTimeout(action,timeoutMs,active){const actionRef=useUpdatingRef(action);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(active){const timeoutId=setTimeout((()=>{actionRef.current()}),timeoutMs);return()=>{clearTimeout(timeoutId)}}}),[timeoutMs,active,actionRef])}function useScheduledInterval(action,intervalMs,options){var _options$schedulePoli;if("function"!=typeof action)throw new Error("Action must be a function");if(intervalMs<1)throw new Error("Interval period must be >= 1");const schedulePolicy=null!=(_options$schedulePoli=null==options?void 0:options.schedulePolicy)?_options$schedulePoli:SchedulePolicy.Immediately,[isSet,setIsSet]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(schedulePolicy===SchedulePolicy.Immediately),set=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>setIsSet(!0)),[]),actionRef=useUpdatingRef(action),clear=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((policy=>{var _policy;policy=null!=(_policy=policy)?_policy:null==options?void 0:options.clearPolicy,isSet&&policy===ClearPolicy.Resolve&&actionRef.current(),setIsSet(!1)}),[actionRef,isSet,null==options?void 0:options.clearPolicy]),runOnUnmountRef=useUpdatingRef(isSet&&(null==options?void 0:options.clearPolicy)===ClearPolicy.Resolve);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{runOnUnmountRef.current&&actionRef.current()}),[]),useInterval(action,intervalMs,isSet),{isSet,set,clear}}function useScheduledTimeout(action,timeoutMs,options){var _options$schedulePoli;if("function"!=typeof action)throw new Error("Action must be a function");if(timeoutMs<0)throw new Error("Timeout period must be >= 0");const schedulePolicy=null!=(_options$schedulePoli=null==options?void 0:options.schedulePolicy)?_options$schedulePoli:SchedulePolicy.Immediately,[isSet,setIsSet]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(schedulePolicy===SchedulePolicy.Immediately),set=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>setIsSet(!0)),[]),wrappedAction=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{setIsSet(!1),action()}),[action]),actionRef=useUpdatingRef(wrappedAction),clear=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((policy=>{var _policy;policy=null!=(_policy=policy)?_policy:null==options?void 0:options.clearPolicy,isSet&&policy===ClearPolicy.Resolve&&actionRef.current(),setIsSet(!1)}),[actionRef,isSet,null==options?void 0:options.clearPolicy]),runOnUnmountRef=useUpdatingRef(isSet&&(null==options?void 0:options.clearPolicy)===ClearPolicy.Resolve);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{runOnUnmountRef.current&&actionRef.current()}),[]),useTimeout(wrappedAction,timeoutMs,isSet),{isSet,set,clear}}ActionSchedulerProvider.__docgenInfo={description:"",methods:[],displayName:"ActionSchedulerProvider"}}}]);