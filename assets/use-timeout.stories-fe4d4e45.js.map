{"version":3,"file":"use-timeout.stories-fe4d4e45.js","sources":["../../__docs__/wonder-blocks-timing/use-timeout.stories.mdx"],"sourcesContent":["import {Meta, Story, Source, Canvas} from \"@storybook/blocks\";\n\nimport {Body, HeadingSmall} from \"@khanacademy/wonder-blocks-typography\";\nimport {View} from \"@khanacademy/wonder-blocks-core\";\nimport Button from \"@khanacademy/wonder-blocks-button\";\n\nimport {useTimeout} from \"@khanacademy/wonder-blocks-timing\";\n\n<Meta\n    title=\"Timing/useTimeout\"\n    parameters={{\n        chromatic: {\n            disableSnapshot: true,\n        },\n    }}\n/>\n\n# `useTimeout`\n\n`useTimeout` is a hook that provides a simple API for using timers safely.\nIt is defined as follows:\n\n```ts\nfunction useTimeout(\n    action: () => mixed,\n    timeoutMs: number,\n    active: boolean,\n): void;\n```\n\nNotes:\n\n-   Setting `active` to `true` will start the timeout and setting it to `false`\n    will stop it\n-   Changing the value of `timeoutMs` will reset the timeout, changing `action`\n    will not.\n\nexport const BasicUsage = () => {\n    const [callCount, setCallCount] = React.useState(0);\n    const [active, setActive] = React.useState(false);\n    const callback = React.useCallback(() => {\n        setCallCount((callCount) => callCount + 1);\n    }, []);\n    useTimeout(callback, 1000, active);\n    return (\n        <View>\n            <View>callCount = {callCount}</View>\n            <View>active = {active.toString()}</View>\n            <Button onClick={() => setActive(!active)} style={{width: 200}}>\n                Toggle active\n            </Button>\n        </View>\n    );\n};\n\n<Canvas>\n    <Story name=\"BasicUsage\">\n        <BasicUsage />\n    </Story>\n</Canvas>\n\n```jsx\nexport const BasicUsage = () => {\n    const [callCount, setCallCount] = React.useState(0);\n    const [active, setActive] = React.useState(false);\n    const callback = React.useCallback(() => {\n        setCallCount((callCount) => callCount + 1);\n    }, []);\n    useTimeout(callback, 1000, active);\n    return (\n        <View>\n            <View>callCount = {callCount}</View>\n            <View>active = {active.toString()}</View>\n            <Button onClick={() => setActive(!active)} style={{width: 200}}>\n                Toggle active\n            </Button>\n        </View>\n    );\n};\n```\n"],"names":["BasicUsage","callCount","setCallCount","active","setActive","callback","useTimeout","_jsxs","View","_jsx","Button","_createMdxContent","props","_components","_provideComponents","_Fragment","Meta","Canvas","Story","MDXContent","MDXLayout","basicUsage","componentMeta","__namedExportsOrder"],"mappings":"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"}