{"version":3,"file":"add-style.stories-80359e87.js","sources":["../../__docs__/wonder-blocks-core/add-style.stories.mdx"],"sourcesContent":["import * as React from \"react\";\nimport {Meta, Story, Source, Canvas, ArgsTable} from \"@storybook/blocks\";\nimport {StyleSheet} from \"aphrodite\";\n\nimport Color, {fade} from \"@khanacademy/wonder-blocks-color\";\nimport {addStyle, View} from \"@khanacademy/wonder-blocks-core\";\nimport {Checkbox} from \"@khanacademy/wonder-blocks-form\";\nimport Spacing from \"@khanacademy/wonder-blocks-spacing\";\n\n<Meta title=\"Core / addStyle\" />\n\nexport const styles = StyleSheet.create({\n    input: {\n        // default style for all instances of StyledInput\n        background: Color.white,\n        border: `1px solid ${Color.offBlack16}`,\n        borderRadius: Spacing.xxxSmall_4,\n        fontSize: Spacing.medium_16,\n        padding: Spacing.xSmall_8,\n    },\n    error: {\n        background: fade(Color.red, 0.16),\n        borderColor: Color.red,\n    },\n});\n\nexport const StyledInput = addStyle(\"input\", styles.input);\n\n# addStyle\n\nThe `addStyle` function is a HOC that accepts a **React Component** or a **DOM**\n**intrinsic** (\"div\", \"span\", etc.) as its first argument and optional default\nstyles as its second argument. This HOC returns a **React Component** with a\n`style` prop included ready to be rendered.\n\n## Usage\n\n```js\nimport {addStyle} from \"@khanacademy/wonder-blocks-core\";\n\naddStyle(\n    Component: React.Element | \"string\",\n    defaultStyle?: StyleType\n): React.Element;\n```\n\n## API\n\n| Argument       | TypeScript&nbsp;Type           | Default    | Description                           |\n| -------------- | ------------------------------ | ---------- | ------------------------------------- |\n| `Component`    | `React.ReactElement`, `string` | _Required_ | The component that will be decorated. |\n| `defaultStyle` | `StyleType`                    | null       | The initial styles to be applied.     |\n\n## Types\n\n### StyleType\n\n```ts\ntype NestedArray<T> = $ReadOnlyArray<T | NestedArray<T>>;\ntype Falsy = false | 0 | null | void;\n\nexport type StyleType =\n    | CSSProperties\n    | Falsy\n    | NestedArray<CSSProperties | Falsy>;\n```\n\n**Note:** `StyleType` can contain a combination of style rules from an Aphrodite\nStyleSheet as well inline style objects (see example 3).\n\n### CSSProperties\n\n[See source file](https://github.com/Khan/wonder-blocks/blob/main/flow-typed/aphrodite.flow.js#L13)\n\n## Examples\n\nIt's recommended to create your styled component using `addStyle` outside of the\ncomponent so we don't have to create a new instance on every render.\n\n```js\nimport {StyleSheet} from \"aphrodite\";\nimport Color from \"@khanacademy/wonder-blocks-color\";\nimport Spacing from \"@khanacademy/wonder-blocks-spacing\";\nimport {addStyle} from \"@khanacademy/wonder-blocks-core\";\n\nconst StyledInput = addStyle(\"input\", styles.input);\n\nconst styles = StyleSheet.create({\n    // default style for all instances of StyledInput\n    input: {\n        background: Color.white,\n        borderColor: Color.offBlack16,\n        borderRadius: Spacing.xxxSmall_4,\n        fontSize: Spacing.medium_16,\n        padding: Spacing.xSmall_8,\n    },\n    error: {\n        background: fade(Color.red, 0.16),\n        borderColor: Color.red,\n    },\n});\n```\n\n### 1. Adding default styles\n\nYou can create a new styled component by using the `addStyle` function. Note\nhere that you can also define default styles for this component by passing an\ninitial style object to this function.\n\n<Canvas withSource=\"open\">\n    <Story name=\"With default style\">\n        <StyledInput type=\"text\" placeholder=\"This is a styled input\" />\n    </Story>\n</Canvas>\n\n### 2. Overriding a default style\n\nAfter defining default styles, you can also customize the instance by adding\nand/or merging styles using the `style` prop in your newly created styled\ncomponent.\n\n<Canvas withSource=\"open\">\n    <Story name=\"Override styles\">\n        <StyledInput\n            style={styles.error}\n            type=\"text\"\n            placeholder=\"With an error style\"\n        />\n    </Story>\n</Canvas>\n\n### 3. Adding styles dynamically\n\nThis example shows that you can dynamically create styles by adding them to the\n`style` prop only when you need them.\n\nexport const DynamicStyledInput = () => {\n    const [error, setError] = React.useState(false);\n    return (\n        <View>\n            <Checkbox\n                label=\"Click here to add the error style to the input\"\n                checked={error}\n                onChange={() => setError(!error)}\n            />\n            <StyledInput\n                style={[styles.input, error && styles.error]}\n                type=\"text\"\n                placeholder=\"Lorem ipsum\"\n            />\n        </View>\n    );\n};\n\n<Canvas withSource=\"open\">\n    <Story name=\"Adding styles dynamically\">\n        {DynamicStyledInput.bind({})}\n    </Story>\n</Canvas>\n"],"names":["styles","StyleSheet","Color","Spacing","fade","StyledInput","addStyle","DynamicStyledInput","error","setError","React.useState","_jsxs","View","_jsx","Checkbox","_createMdxContent","props","_components","_provideComponents","_Fragment","Meta","Canvas","Story","MDXContent","MDXLayout","withDefaultStyle","overrideStyles","addingStylesDynamically","componentMeta","__namedExportsOrder"],"mappings":"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"}