{"version":3,"file":"types.scoped-cache.stories-2f0bd0e3.js","sources":["../../__docs__/wonder-blocks-data/types.scoped-cache.stories.mdx"],"sourcesContent":["import {Meta} from \"@storybook/blocks\";\n\n<Meta\n    title=\"Data / Types / ScopedCache\"\n    parameters={{\n        chromatic: {\n            disableSnapshot: true,\n        },\n    }}\n/>\n\n# ScopedCache\n\n```ts\ninterface ScopedCache {\n    set(scope: string, id: string, value: ValidCacheData): void;\n\n    /**\n     * Retrieve a value from the cache.\n     */\n    get(scope: string, id: string): ?ValidCacheData;\n\n    /**\n     * Purge an item from the cache.\n     */\n    purge(scope: string, id: string): void;\n\n    /**\n     * Purge a scope of items that match the given predicate.\n     *\n     * If the predicate is omitted, then all items in the scope are purged.\n     */\n    purgeScope(\n        scope: string,\n        predicate?: (id: string, value: ValidCacheData) => boolean,\n    ): void;\n\n    /**\n     * Purge all items from the cache that match the given predicate.\n     *\n     * If the predicate is omitted, then all items in the cache are purged.\n     */\n    purgeAll(\n        predicate?: (\n            scope: string,\n            id: string,\n            value: ValidCacheData,\n        ) => boolean,\n    ): void;\n}\n```\n\nThis interface defines how to interact with a scoped cache, such as [`ScopedInMemoryCache`](/docs/data-exports-scopedinmemorycache--page).\n\n## set()\n\n```ts\nset(\n    scope: string,\n    id: string,\n    value: TValue,\n): void;\n```\n\nSets a value in the cache within a given scope.\n\n### Throws\n\n| Error Type                                        | Error Name              | Reason                                     |\n| ------------------------------------------------- | ----------------------- | ------------------------------------------ |\n| [`DataError`](/docs/data-exports-dataerror--page) | `InvalidInputDataError` | `id` and `scope` must be non-empty strings |\n| [`DataError`](/docs/data-exports-dataerror--page) | `InvalidInputDataError` | `value` must be a non-function value       |\n\n## get()\n\n```ts\nget(scope: string, id: string): ?ValidCacheData;\n```\n\nGets a value from the cache. If a value with the given identifier (`id`) is not found within the given scope (`scope`) of the cache, `null` is returned.\n\n## purge()\n\n```ts\npurge(scope: string, id: string): void;\n```\n\nPurges the value from the cache. If a value with the given identifier (`id`) is not found within the given scope (`scope`) of the cache, nothing happens.\n\n## purgeScope()\n\n```ts\npurgeScope(\n    scope: string,\n    predicate?: (id: string, value: ValidCacheData) => boolean,\n): void;\n```\n\nPurges items within a given scope (`scope`) of the cache from that scope. If a predicate is provided, only items for which the predicate returns `true` will be purged; otherwise, the entire scope will be purged.\n\n## purgeAll()\n\n```ts\npurgeAll(\n    predicate?: (\n        scope: string,\n        id: string,\n        value: ValidCacheData,\n    ) => boolean,\n): void;\n```\n\nPurges all items from the cache. If a predicate is provided, only items for which the predicate returns `true` will be purged; otherwise, the entire cache will be purged.\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","MDXContent","MDXLayout","__page","componentMeta","__namedExportsOrder"],"mappings":"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"}