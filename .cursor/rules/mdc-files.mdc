---
description: Best practices for writing .mdc cursor rules files
globs: *.mdc
alwaysApply: false
---
# MDC Files Best Practices

This guide covers conventions and best practices for creating and maintaining `.mdc` cursor rules files that provide context and guidance to AI assistants.

## File Structure

### Frontmatter Block

**âš ï¸ ALWAYS include YAML frontmatter at the top of every .mdc file:**

```yaml
---
description: Brief description of what this rules file covers
globs: *.ext,*.pattern
alwaysApply: false
---
```

**Frontmatter Properties:**

- âœ… **`description`**: Short, clear description of the file's purpose (one line)
- âœ… **`globs`**: Comma-separated list of file patterns that trigger this rule (e.g., `*.test.ts,*.test.tsx`)
- âœ… **`alwaysApply`**: Boolean (`true` or `false`) - whether this rule applies to all contexts

**âœ… DO: Use specific glob patterns**

```yaml
---
description: Jest testing best practices and patterns for unit tests
globs: *.test.ts,*.test.tsx
alwaysApply: false
---
```

**âŒ DON'T: Use vague descriptions or missing properties**

```yaml
---
description: Some rules
globs:
alwaysApply: false
---
```

### Document Title

**âœ… ALWAYS start content with a single H1 heading:**

```markdown
# Document Title

Introduction paragraph explaining the document's purpose and scope.
```

**Best practices:**
- âœ… Use a clear, descriptive title
- âœ… Match the title to the `description` in frontmatter
- âœ… Include a brief introduction after the H1
- âŒ Never use multiple H1 headings in a single document

## Markdown Structure

### Heading Hierarchy

**âœ… Use proper heading levels (H1 â†’ H2 â†’ H3 â†’ H4):**

```markdown
# Main Title (H1)

## Major Section (H2)

### Subsection (H3)

#### Sub-subsection (H4)

##### Rarely needed (H5)
```

**Best practices:**
- âœ… Use H1 for document title only
- âœ… Use H2 for major sections
- âœ… Use H3 for subsections within major sections
- âœ… Maintain consistent nesting (don't skip levels)
- âŒ Never jump from H2 to H4 without H3

### Visual Indicators

**âœ… Use emoji symbols for emphasis and clarity:**

- âœ… **Checkmark**: Recommended patterns, correct examples
- âŒ **Cross mark**: Anti-patterns, incorrect examples
- âš ï¸ **Warning**: Critical rules, important notes
- ğŸ¥‡ **Medal**: Priority or ranking indicators

**âœ… DO: Use visual indicators consistently**

```markdown
### Best Practices

**âœ… DO: Follow this pattern**

```typescript
// Good example
```

**âŒ DON'T: Use this anti-pattern**

```typescript
// Bad example
```
```

**Best practices:**
- âœ… Use emoji at the start of headings for critical sections
- âœ… Use emoji in bold labels (`**âœ… DO:**`)
- âœ… Be consistent with emoji meanings throughout
- âŒ Don't overuse emoji - only where they add clarity

### Code Blocks

**âœ… ALWAYS specify language for syntax highlighting:**

````markdown
```typescript
const example = "with syntax highlighting";
```

```bash
pnpm install
```
````

**Best practices:**
- âœ… Always include language identifier (`typescript`, `bash`, `json`, etc.)
- âœ… Include comments in code to explain intent
- âœ… Keep examples short and focused (5-20 lines ideal)
- âœ… Use realistic, runnable examples when possible
- âŒ Don't use generic or placeholder code without context

### Example Patterns

**âœ… Structure examples with clear labels:**

```markdown
**âœ… DO: Clear description of good pattern**

```typescript
// Good example with comments
const goodExample = true;
```

**âŒ DON'T: Clear description of anti-pattern**

```typescript
// Bad example with comments
const badExample = false;
```
```

**Best practices:**
- âœ… Always pair good and bad examples when possible
- âœ… Include explanatory text before code blocks
- âœ… Use consistent formatting for all examples
- âœ… Add comments within code to highlight key points
- âŒ Don't show examples without context or explanation

## Content Guidelines

### Writing Style

**Be clear, concise, and actionable:**

- âœ… Use imperative mood ("Use this pattern", not "You should use this pattern")
- âœ… Write in present tense ("Tests run in JSDOM", not "Tests will run")
- âœ… Be specific and precise ("Use `jest.spyOn()`", not "Use mocking utilities")
- âœ… Provide context for why rules matter
- âŒ Avoid vague or ambiguous language

**âœ… DO: Clear, actionable guidance**

```markdown
### Method Spying

**âœ… ALWAYS use `jest.spyOn()` to create spies:**

```typescript
const spy = jest.spyOn(module, "functionName").mockReturnValue(value);
```

This ensures proper cleanup and type safety.
```

**âŒ DON'T: Vague or ambiguous guidance**

```markdown
### Spying

You might want to use spies sometimes. Here are some ways to do it.
```

### Section Organization

**âœ… Organize content logically:**

1. **Overview/Introduction**: Brief explanation of the section's scope
2. **Critical Rules**: Most important rules with âš ï¸ warnings
3. **Best Practices**: Recommended patterns with âœ… examples
4. **Anti-Patterns**: Common mistakes with âŒ examples
5. **Additional Context**: Supporting information and edge cases

**âœ… DO: Structured section with clear hierarchy**

```markdown
## State Management

State management in React uses multiple patterns depending on scope and complexity.

### âš ï¸ Critical Rules

- âœ… Use `useState` for local component state
- âŒ Never introduce new global state libraries without justification

### Local State Pattern

**âœ… DO: Use `useState` for component-local state:**

```typescript
const [count, setCount] = useState(0);
```
```

### Lists and Bullets

**âœ… Use proper list formatting:**

**Bulleted Lists:**
```markdown
- âœ… First item starts with capital letter
- âœ… End with period if complete sentences
- âœ… No period if fragments or single phrases
- âœ… Use consistent formatting throughout
```

**Numbered Lists:**
```markdown
1. **Step Name**: Brief description of the step
2. **Next Step**: Description continues here
3. **Final Step**: Conclusion of the process
```

**Best practices:**
- âœ… Use bullets for unordered items
- âœ… Use numbers for sequential steps or priorities
- âœ… Use consistent punctuation within a list
- âœ… Use bold for emphasis on key terms in lists
- âŒ Don't mix punctuation styles within a list

### Tables

**âœ… Use tables for structured comparisons:**

```markdown
| Feature | Approach A | Approach B |
|---------|------------|------------|
| Speed   | Fast       | Slow       |
| Safety  | High       | Medium     |
```

**Best practices:**
- âœ… Use tables for side-by-side comparisons
- âœ… Keep table content concise
- âœ… Align columns for readability
- âŒ Don't use tables for simple lists

## Best Practices for Rule Content

### Critical Rules Section

**âš ï¸ ALWAYS include a Critical Rules section for important guidelines:**

```markdown
### âš ï¸ Critical Rules

**ALWAYS follow these core principles:**

1. **Rule One** - Brief explanation of critical rule
2. **Rule Two** - Another critical guideline
3. **Rule Three** - Final essential rule
```

**Best practices:**
- âœ… Place Critical Rules near the beginning of major sections
- âœ… Use âš ï¸ emoji in the heading
- âœ… Bold the rule names
- âœ… Keep the list short (3-7 items maximum)
- âœ… Focus on rules that prevent major issues

### Pattern Documentation

**âœ… Document patterns with context:**

```markdown
### Pattern Name

**When to use:** Brief explanation of use case

**âœ… DO: Recommended approach**

```typescript
// Implementation with comments
```

**Benefits:**
- âœ… Benefit one
- âœ… Benefit two
- âœ… Benefit three

**âŒ DON'T: Anti-pattern**

```typescript
// What not to do
```

**Why avoid:** Clear explanation of problems with anti-pattern
```

**Best practices:**
- âœ… Explain when and why to use each pattern
- âœ… Show both good and bad examples
- âœ… Include benefits and reasoning
- âœ… Provide alternatives when appropriate

### Common Mistakes Section

**âœ… Include sections addressing common mistakes:**

```markdown
## Common Mistakes

### Mistake Category

**âŒ DON'T: Description of common mistake**

```typescript
// Anti-pattern example
```

**Problem:** Explanation of why this is problematic

**âœ… DO: Correct approach instead**

```typescript
// Correct pattern
```
```

**Best practices:**
- âœ… Group related mistakes together
- âœ… Explain the consequences of each mistake
- âœ… Always provide the correct alternative
- âœ… Use real-world examples when possible

### Tool and Command Documentation

**âœ… Document relevant tools and commands:**

```markdown
## Tools & Commands

### Primary Tool: Tool Name

**Description:** What the tool does and when to use it

**Usage:**

```bash
command --flag argument
```

**Common Options:**
- `--flag`: Description of flag
- `--option value`: Description of option
```

**Best practices:**
- âœ… Organize tools by priority or workflow
- âœ… Include practical examples of commands
- âœ… Explain when to use each tool
- âœ… Document common flags and options
- âœ… Provide context for choosing between tools

## File Organization

### File Naming

**âœ… Use descriptive, kebab-case names:**

- âœ… `unit-tests.mdc` - Clear purpose
- âœ… `storybook.mdc` - Obvious scope
- âœ… `graphql-patterns.mdc` - Specific domain
- âŒ `rules.mdc` - Too vague
- âŒ `test_file.mdc` - Wrong case (underscore)

### File Location

**âœ… Place .mdc files in `.cursor/rules/` directory:**

```
project-root/
â”œâ”€â”€ .cursor/
â”‚   â””â”€â”€ rules/
â”‚       â”œâ”€â”€ general.mdc (alwaysApply: true)
â”‚       â”œâ”€â”€ unit-tests.mdc (for *.test.ts files)
â”‚       â”œâ”€â”€ storybook.mdc (for *.stories.tsx files)
â”‚       â””â”€â”€ mdc-files.mdc (for *.mdc files)
```

**Best practices:**
- âœ… Use `.cursor/rules/` as the standard location
- âœ… Keep files focused on specific domains
- âœ… Use one general file for project-wide rules
- âŒ Don't create too many overlapping rule files

## Maintenance

### Keeping Rules Current

**âœ… Regular maintenance checklist:**

- âœ… Update examples when patterns change
- âœ… Remove deprecated patterns and tools
- âœ… Add new patterns as they're established
- âœ… Review for outdated technology references
- âœ… Ensure all code examples still work
- âœ… Update glob patterns if file conventions change

### Consistency Across Files

**âœ… Maintain consistency across all .mdc files:**

- âœ… Use the same emoji meanings
- âœ… Follow the same heading structure
- âœ… Use consistent terminology
- âœ… Apply the same example formatting
- âœ… Use the same visual patterns

**Example consistency patterns:**
```markdown
# All files use this pattern:
- H1 for title
- H2 for major sections
- âœ…/âŒ/âš ï¸ for emphasis
- Code blocks with language tags
- Clear example structure
```

## Meta-Documentation

### Self-Referential Nature

**This file demonstrates its own principles:**

- âœ… Proper frontmatter with description and globs
- âœ… Clear heading hierarchy
- âœ… Visual indicators (âœ…, âŒ, âš ï¸)
- âœ… Good and bad examples
- âœ… Consistent formatting throughout
- âœ… Logical section organization
- âœ… Actionable, clear guidance

**When writing .mdc files, use this file as a template and reference.**

### Documentation Philosophy

**Goals for .mdc files:**

1. **Clarity**: AI assistants should understand rules immediately
2. **Actionability**: Provide specific guidance, not vague suggestions
3. **Completeness**: Cover common scenarios and edge cases
4. **Maintainability**: Easy to update as practices evolve
5. **Consistency**: Follow patterns that work across all rule files

**Remember:** .mdc files are for AI assistants, not necessarily human developers. Focus on:
- âœ… Explicit, unambiguous instructions
- âœ… Comprehensive coverage of patterns
- âœ… Clear examples with context
- âœ… Practical, applicable guidance
