import {Meta, ColorPalette, ColorItem, Canvas} from "@storybook/blocks";
import {StyleSheet} from "aphrodite";

import Banner from "@khanacademy/wonder-blocks-banner";
import {View} from "@khanacademy/wonder-blocks-core";
import Link from "@khanacademy/wonder-blocks-link";
import {semanticColor, spacing} from "@khanacademy/wonder-blocks-tokens";
import {LabelLarge} from "@khanacademy/wonder-blocks-typography";
import * as SemanticColorGroups from "./wonder-blocks-tokens/semantic-color-groups.stories"

import {ColorGroup, ActionColorGroup} from "./components/color";

<Meta
    title="Foundations / Using color"
    parameters={{
        docs: {
            toc: {
                headingSelector: "h2, h3, h4",
            },
        },
    }}
/>

export const styles = StyleSheet.create({
    grid: {
        display: "grid",
        gridTemplateColumns: "repeat(2, minmax(100px, auto))",
    },
    gridSmall: {
        display: "grid",
        gridTemplateColumns: "repeat(auto-fill, 160px)",
    },
    gridCompact: {
        display: "grid",
        gridTemplateColumns: "repeat(3, minmax(100px, auto))",
    },

    banner: {
        marginBottom: spacing.xLarge_32,
    },

});

# Color

Colors are a key part of our design system. They help us communicate information
and create visual hierarchy. This document outlines the semantic colors we use
in our product and how these are reflected in our primitive tokens.

## Semantic Colors

Semantic colors are a key part of our design system. They help us communicate
the intent of a given color and create visual hierarchy. This document outlines
how to use these colors depending on the context.

<View style={styles.banner}>
    <Banner
        kind="info"
        layout="full-width"
        text="This is the recommended approach. To use these colors in your project, check out the corresponding tokens page."
        actions={[
            {
                type: "custom",
                // NOTE: This is a hack to bypass a Storybook bug where the
                // link doesn't work correctly with iframes.
                node: (
                    <a
                        href="/?path=/docs/packages-tokens-semantic-color--docs"
                        target="_blank"
                    >
                        Semantic Color tokens
                    </a>
                ),
            },
        ]}
    />
</View>

### Core

Core colors are used for the most common elements in the UI. These colors are
used for backgrounds, borders, and text. They are the foundation of our color
system and are used to create a consistent look and feel across the product.

#### Border

Borders define structure for elements. Generally borders for component elements
would use `core.border.neutral.subtle`, `core.border.neutral.default` for when
3:1 contrast is a priority (ex. form elements) and `core.border.neutral.strong`
for 4.5:1 contrast.

<Canvas of={SemanticColorGroups.CoreBorder} layout="fullscreen" />

#### Background

Background colors are used to define the background of elements. This includes
the background of components like buttons, banners, and other elements that
require a background color.

<Canvas of={SemanticColorGroups.CoreBackground} layout="fullscreen" />

#### Foreground

Foreground colors are used to define the foreground of elements. This includes
the text and icons that are displayed on top of the background color. This is
important for ensuring that the text and icons are legible and accessible.

<Banner
    kind="success"
    layout="full-width"
    text="Make sure to use these colors consistently to ensure readability and accessibility. This includes checking contrast ratios for text and background colors."
    actions={[
        {
            type: "custom",
            node: (
                <a
                    href="https://www.w3.org/WAI/WCAG22/Understanding/contrast-minimum.html"
                    target="_blank"
                >
                    WCAG Guidelines - Contrast (minimum)
                </a>
            ),
        },
    ]}
/>

<Canvas of={SemanticColorGroups.CoreForeground} layout="fullscreen" />

### Feedback

For elements where color can add meaning to the state of the system or an item
in the system.

<Banner
    kind="success"
    layout="full-width"
    text="Make sure to use these colors consistently to communicate the same meaning
and include an icon or label to provide more context and clarity."
    actions={[
        {
            type: "custom",
            node: (
                <a
                    href="https://www.w3.org/WAI/WCAG22/Understanding/use-of-color.html"
                    target="_blank"
                >
                    WCAG Guidelines - Contrast (minimum)
                </a>
            ),
        },
    ]}
/>


#### Info

<Canvas of={SemanticColorGroups.FeedbackInfo} layout="fullscreen" />

#### Success

<Canvas of={SemanticColorGroups.FeedbackSuccess} layout="fullscreen" />

#### Warning

<Canvas of={SemanticColorGroups.FeedbackWarning} layout="fullscreen" />

#### Critical

<Canvas of={SemanticColorGroups.FeedbackCritical} layout="fullscreen" />

### Focus

For focus states on interactive elements. This is meant to be used globally for
all interactive elements regardless of the state (disabled, error, etc).

- `outer`: The outer ring of the focus state.
- `inner`: The inner ring of the focus state.

<Canvas of={SemanticColorGroups.Focus} layout="fullscreen" />

### Surface

For background colors. Overlays act as supplementary surfaces that mask areas of
the UI.

<Canvas of={SemanticColorGroups.Surface} layout="fullscreen" />

### Input

For form elements, inputs, and other interactive elements that require user
interaction. This includes text inputs, checkboxes, radio buttons, and
selects. These colors are used to communicate the state of the input and its
validity.

<Canvas of={SemanticColorGroups.Input} layout="fullscreen" />

### Learning

Learning colors are used for elements that are related to learning experiences,
such as practice and mastery, among others.

#### Math

For MathJax elements, these colors are used to render mathematical expressions
in the UI.

<Canvas of={SemanticColorGroups.LearningMath} layout="fullscreen" />

#### Border

<Canvas of={SemanticColorGroups.LearningBorder} layout="fullscreen" />

#### Background

<Canvas of={SemanticColorGroups.LearningBackground} layout="fullscreen" />


#### Foreground

<Canvas of={SemanticColorGroups.LearningForeground} layout="fullscreen" />

#### Shadow

<Canvas of={SemanticColorGroups.LearningShadow} layout="fullscreen" />

### Khanmigo

Colors to be used exclusively for Khanmigo or to communicate a relationship to
it.

<Canvas of={SemanticColorGroups.Khanmigo} layout="fullscreen" />

### Mastery

Standalone colors used only for communicating mastery.

<Canvas of={SemanticColorGroups.Mastery} layout="fullscreen" />

## Accessibility

When using color, it is important to consider accessibility. The contrast
between text and background colors should be high enough to ensure readability
for all users. The <a
href="https://www.w3.org/WAI/WCAG22/Understanding/distinguishable">Web Content
Accessibility Guidelines (WCAG)</a> provide guidance on how to ensure that our
content is accessible to all users.

For more detail, you can check the following Success Criteria documents:

- <a href="https://www.w3.org/WAI/WCAG22/Understanding/use-of-color">
      Use of Color
  </a>
- <a href="https://www.w3.org/WAI/WCAG22/Understanding/contrast-minimum">
      Contrast (minimum)
  </a>
- <a href="https://www.w3.org/WAI/WCAG22/Understanding/non-text-contrast">
      Non-text Contrast (Level AA)
  </a>

## Deprecated semantic colors

### Action (deprecated)

<Banner
    kind="warning"
    text="These action tokens are meant for internal WB use and will be make private in the future. Please use the semanticColor.core tokens instead."
/>

For buttons, links, and controls to communicate the presence and meaning of
interaction.

#### Primary

Communicates strong emphasis and primary actions.

##### Progressive

<Canvas of={SemanticColorGroups.ActionPrimaryProgressive} layout="fullscreen" />

##### Destructive

<Canvas of={SemanticColorGroups.ActionPrimaryDestructive} layout="fullscreen" />

##### Neutral

<Canvas of={SemanticColorGroups.ActionPrimaryNeutral} layout="fullscreen" />

##### Disabled

<Canvas of={SemanticColorGroups.ActionPrimaryDisabled} layout="fullscreen" />

#### Secondary

Communicates secondary actions and less emphasis.

##### Progressive

<Canvas of={SemanticColorGroups.ActionSecondaryProgressive} layout="fullscreen" />

##### Destructive

<Canvas of={SemanticColorGroups.ActionSecondaryDestructive} layout="fullscreen" />

##### Neutral

<Canvas of={SemanticColorGroups.ActionSecondaryNeutral} layout="fullscreen" />

##### Disabled

<Canvas of={SemanticColorGroups.ActionSecondaryDisabled} layout="fullscreen" />

#### Tertiary

Communicates tertiary actions that have the lowest hierarchy.

##### Progressive

<Canvas of={SemanticColorGroups.ActionTertiaryProgressive} layout="fullscreen" />

##### Destructive

<Canvas of={SemanticColorGroups.ActionTertiaryDestructive} layout="fullscreen" />

##### Neutral

<Canvas of={SemanticColorGroups.ActionTertiaryNeutral} layout="fullscreen" />

##### Disabled

<Canvas of={SemanticColorGroups.ActionTertiaryDisabled} layout="fullscreen" />


### Status (deprecated)

<Banner
    kind="warning"
    text="These status tokens are deprecated and will be removed in the future. Please use the semantic feedback tokens instead: semanticColor.feedback"
/>

For labels, icons, filters, alerts, and other elements where color can add
meaning to the state of the system or an item in the system.

<Banner
    kind="success"
    layout="full-width"
    text="Make sure to use these colors consistently to communicate the same meaning
and include an icon or label to provide more context and clarity."
    actions={[
        {
            type: "custom",
            node: (
                <a
                    href="https://www.w3.org/WAI/WCAG22/Understanding/use-of-color.html"
                    target="_blank"
                >
                    WCAG Guidelines - Contrast (minimum)
                </a>
            ),
        },
    ]}
/>

<Canvas of={SemanticColorGroups.Status} layout="fullscreen" />