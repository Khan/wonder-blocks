import {Meta, Source} from "@storybook/blocks";

import TokenTable from "../components/token-table";

import Banner from "@khanacademy/wonder-blocks-banner";
import {View} from "@khanacademy/wonder-blocks-core";
import {color, semanticColor, spacing} from "@khanacademy/wonder-blocks-tokens";

import ComponentInfo from "../components/component-info";
import packageConfig from "../../packages/wonder-blocks-tokens/package.json";

import {flattenNestedTokens} from "../components/tokens-util";

<Meta title="Packages / Tokens / Semantic Color" />

# Semantic Color

<ComponentInfo name={packageConfig.name} version={packageConfig.version} />

The color palette containing all the semantic Wonder Blocks colors.

<View style={{marginBottom: spacing.xLarge_32}}>
    <Banner
        kind="info"
        layout="full-width"
        text="This is the recommended approach. If you need a color that doesn't fit into any of the categories, you can use the primitive colors."
        actions={[
            {
                type: "custom",
                // NOTE: This is a hack to bypass a Storybook bug where the
                // link doesn't work correctly with iframes.
                node: (
                    <a
                        href="/?path=/docs/packages-tokens-color--docs"
                        target="_blank"
                    >
                        Primitive Color tokens
                    </a>
                ),
            },
        ]}
    />
</View>

## Usage

`wonder-blocks-tokens` exports a set of semantic colors that can be used in your
components. The colors are exported as constants and can be used like so:

```ts
import {semanticColor} from "@khanacademy/wonder-blocks-tokens";

const styles = {
    background: semanticColor.surface.secondary,
    border: semanticColor.border.strong,
    color: semanticColor.text.primary,
};
```

## Tokens

<TokenTable
    columns={[
        {
            label: "Token",
            cell: (row) => <code>semanticColor.{row.label}</code>,
        },
        {
            label: "Value",
            cell: "value",
        },
        {
            label: "Example",
            cell: (row) => (
                <View
                    style={{
                        background: color.offBlack8,
                        padding: spacing.xxSmall_6,
                    }}
                >
                    <View
                        style={{
                            backgroundColor: row.value,
                            boxShadow: "0 0 0 1px rgba(0, 0, 0, 0.1)",
                        }}
                    >
                        &nbsp;
                    </View>
                </View>
            ),
        },
    ]}
    tokens={flattenNestedTokens(semanticColor)}
/>
