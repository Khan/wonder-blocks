import {Meta} from "@storybook/blocks";
import {StyleSheet} from "aphrodite";

import Color from "@khanacademy/wonder-blocks-color";
import {addStyle, View} from "@khanacademy/wonder-blocks-core";
import {Strut} from "@khanacademy/wonder-blocks-layout";
import Spacing from "@khanacademy/wonder-blocks-spacing";
import {Caption} from "@khanacademy/wonder-blocks-typography";

import Hero from "./hero.mdx";

<Meta
    title="Overview"
    parameters={{
        chromatic: {
            disableSnapshot: true,
        },
        previewTabs: {
            canvas: {hidden: true},
        },
        viewMode: "docs",
    }}
/>

export default function Layout({children}) {
    {
        /* NOTE: Adding a negative margin to move the hero right above the toolbar */
    }
    return <main style={{marginTop: -64}}>{children}</main>;
}

export const StyledImage = addStyle("img");
export const mobile = "@media (max-width: 1023px)";

export const styles = StyleSheet.create({
    heroWrapper: {
        flexDirection: "row",
        minHeight: "50vh",
        marginBottom: Spacing.large_24,
        [mobile]: {
            flexDirection: "column",
            minHeight: "auto",
            marginTop: Spacing.large_24,
        },
    },
    heroBody: {
        alignSelf: "center",
        gap: Spacing.medium_16,
        padding: `0 ${Spacing.xxxLarge_64}px 0 0`,
        [mobile]: {
            padding: 0,
        },
    },
    heroImage: {
        width: "auto",
        height: "70vh",
        objectFit: "cover",
        objectPosition: "50% 50%",
        [mobile]: {
            height: "200px",
        },
    },
    heroCaption: {fontSize: 16, color: Color.offBlack64},
});

<View style={styles.heroWrapper}>
    <View style={styles.heroBody}>
        <Hero />
        <Caption style={styles.heroCaption}>
            <strong>Note:</strong> These components are only available for use
            on the web (including mobile web).
        </Caption>
        <Strut size={Spacing.large_24} />
    </View>
    <StyledImage
        alt="A illustration that shows multiple components."
        src="./wb-overview.png"
        style={styles.heroImage}
    />
</View>

## Overview

Since our design system is a constant work in progress, these components vary in
degrees of completion. Follow these guidelines to ensure the smoothest process
from design to development:

-   Some components currently have limitations, so read the guidelines carefully
    to ensure that you're not designing something that will be difficult (or
    impossible) for your engineers to build.
-   Some components aren't complete yet, so while you may see that component
    being used in the wild, know that these aren't official components yet. As
    such, they haven't been stress-tested and may not meet the quality standards
    your team needs (eg, they may not be built with accessibility in mind). They
    could also be difficult for your engineering team to build, so check with
    them early on.
-   A component you need may not be listed in here, in which case you're more
    than welcome to propose it to the design systems team.

## Resources

-   [Figma](https://www.figma.com/file/VbVu3h2BpBhH80niq101MHHE/Wonder-Blocks)
-   [GitHub](https://github.com/Khan/wonder-blocks#getting-started)
-   [Development setup](https://khanacademy.atlassian.net/wiki/spaces/WB/pages/100827261/Developing+Web+Wonder+Blocks)

## Feedback

Have a question? Contact the team in the
[#wonder-blocks](https://khanacademy.slack.com/archives/C8Z9DSKC7) Slack
channel.
