import {Meta, Story, Canvas} from "@storybook/addon-docs/blocks";
import * as ActionMenuStories from './action-menu.stories';

import {OptionItem, MultiSelect} from "@khanacademy/wonder-blocks-dropdown";
import {View} from "@khanacademy/wonder-blocks-core";
import {LabeledField} from "@khanacademy/wonder-blocks-labeled-field";

<Meta title="Packages / Dropdown / ActionMenu / Accessibility" />

# Accessibility

The `ActionMenu` component is designed to be accessible and follows the
[WAI-ARIA Menu Button
links](https://www.w3.org/WAI/ARIA/apg/patterns/menu-button/examples/menu-button-links/)
pattern. It enables both mouse and keyboard users to efficiently interact with
complex menus and action items.

## Keyboard interactions

| Key            | Action                          |
| -------------- | ------------------------------- |
| Enter or Space | Opens the menu                   |
| ArrowDown      | Moves focus to the next item     |
| ArrowUp        | Moves focus to the previous item |
| Escape         | Closes the menu                  |

## Attributes

### Menu button (opener)

| Attribute            | Usage                                                                                                                                                    |
| -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| role="button"        | Indicates that the element is a button.                                                                                                                  |
| aria-label="value"   | Defines a string value that labels the UsingOpenerAriaLabel element. Use it in case the opener element doesn't include any descriptive text (e.g. Icons, images) |
| aria-expanded="true" | Indicates that the element is expanded.                                                                                                                  |
| aria-haspopup="menu" | Indicates that the element has a popup menu.                                                                                                             |
| aria-controls="value" | Indicates that the element controls the popup menu with the given id.                                                                                   |
| aria-disabled="true" | Indicates that the element is disabled.                                                                                                                  |

### Menu (items)

| Attribute            | Usage                                                                                                                                                    |
| -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| role="menu"          | Indicates that the element is a menu.                                                                                                                    |
| aria-labelledby="opener-id"   | Indicates that the element is labelled by the element with the given id.                                                                        |

## Labeling the ActionMenu component

In certain situations where the menu button text doesn't provide enough context
about the menu's purpose, you can use the `aria-label` prop to provide a more
descriptive label.

**NOTE:** `ActionMenu` internally associates the `menu` element with the
`opener` element using the `aria-labelledby` attribute, that way Screenreaders
will announce the menu text when the menu is opened.

<Canvas of={ActionMenuStories.AriaLabel} />
