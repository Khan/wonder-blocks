import {Meta, Story, Canvas} from "@storybook/blocks";
import * as SingleSelectAccessibilityStories from './single-select.accessibility.stories';

import {OptionItem, SingleSelect} from "@khanacademy/wonder-blocks-dropdown";
import {View} from "@khanacademy/wonder-blocks-core";
import {LabelLarge} from "@khanacademy/wonder-blocks-typography";

<Meta of={SingleSelectAccessibilityStories} />

export const SingleSelectAccessibility = () => (
    <View>
        <LabelLarge
            tag="label"
            id="label-for-single-select"
            htmlFor="unique-single-select"
        >
            Associated label element
        </LabelLarge>
        <SingleSelect
            aria-labelledby="label-for-single-select"
            id="unique-single-select"
            placeholder="Accessible SingleSelect"
            selectedValue="one"
        >
            <OptionItem
                label="First element"
                aria-label="First element, selected"
                value="one"
            />
            <OptionItem
                label="Second element"
                aria-label="Second element, unselelected"
                value="two"
            />
        </SingleSelect>
    </View>
);

# Accessibility

If you need to associate this component with another element (e.g. `<label>`),
make sure to pass the `aria-labelledby` and/or `id` props to the `SingleSelect` component.
This way, the `opener` will receive this value and it will associate both
elements.

Also, if you need screen readers to understand any relevant information on every
option item, you can use `aria-label` on each item. e.g. You can use it to let
screen readers know the current selected/unselected status of the item when it
receives focus.

<Canvas of={SingleSelectAccessibilityStories.UsingAriaAttributes} />
